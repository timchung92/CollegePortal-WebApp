{"ast":null,"code":"var _jsxFileName = \"/home/student/Documents/team550_project/CollegeSearchPortal/app/client/src/components/CriteriaSearch.js\";\nimport React from 'react';\nimport PageNavbar from './PageNavbar';\nimport CriteriaSearchRow from './CriteriaSearchRow';\nimport '../style/CriteriaSearch.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nexport default class CriteriaSearch extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedState: \"\",\n      selectedControl: \"\",\n      selectedRegion: \"\",\n      selectedLevel: \"\",\n      selectedSize: \"\",\n      states: [],\n      controls: [],\n      regions: [],\n      levels: [],\n      sizes: [],\n      genres: []\n    };\n    this.submitCriteria = this.submitCriteria.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:8081/states', {\n      method: 'GET'\n    }).then(res => {\n      return res.json();\n    }).then(stateListObj => {\n      let stateList = stateListObj.map((stateObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: stateObj.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 5\n        }\n      }, stateObj.state));\n      this.setState({\n        states: stateList,\n        selectedState: \"%\"\n      }); //if(stateList.length > 0) {\n      //\tthis.setState({\n      //\t\t//selectedState: stateListObj[0].state,\n      //\t\tselectedState: \"%\",\n      //\t})\n      //}\n    });\n    fetch('http://localhost:8081/controls', {\n      method: 'GET'\n    }).then(res => {\n      return res.json();\n    }).then(controlListObj => {\n      let controlList = controlListObj.map((controlObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: controlObj.control,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 5\n        }\n      }, controlObj.control));\n      this.setState({\n        controls: controlList,\n        selectedControl: \"%\"\n      }); //if(controlList.length > 0) {\n      //\tthis.setState({\n      //\t\t//selectedControl: controlListObj[0].control,\n      //\t\tselectedControl: \"%\",\n      //\t})\n      //}\n    });\n    fetch('http://localhost:8081/regions', {\n      method: 'GET'\n    }).then(res => {\n      return res.json();\n    }).then(regionListObj => {\n      let regionList = regionListObj.map((regionObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: regionObj.region,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 5\n        }\n      }, regionObj.region));\n      this.setState({\n        regions: regionList,\n        selectedRegion: \"%\"\n      }); //if(regionList.length > 0) {\n      //\tthis.setState({\n      //\t\t//selectedRegion: regionListObj[0].region,\n      //\t\tselectedRegion: \"%\",\n      //\t})\n      //}\n    });\n    fetch('http://localhost:8081/levels', {\n      method: 'GET'\n    }).then(res => {\n      return res.json();\n    }).then(levelListObj => {\n      let levelList = levelListObj.map((levelObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: levelObj.level,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 5\n        }\n      }, levelObj.level));\n      this.setState({\n        levels: levelList,\n        selectedLevel: \"%\"\n      }); //if(levelList.length > 0) {\n      //\tthis.setState({\n      //\t\t//selectedLevel: levelListObj[0].level,\n      //\t\tselectedLevel: \"%\",\n      //\t})\n      //}\n    });\n    fetch('http://localhost:8081/sizes', {\n      method: 'GET'\n    }).then(res => {\n      return res.json();\n    }).then(sizeListObj => {\n      let sizeList = sizeListObj.map((sizeObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        key: i,\n        value: sizeObj.size,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 5\n        }\n      }, sizeObj.size));\n      this.setState({\n        sizes: sizeList,\n        selectedSize: \"%\"\n      }); //if(sizeList.length > 0) {\n      //\tthis.setState({\n      //\t\t//selectedSize: sizeListObj[0].size,\n      //\t\tselectedSize: \"%\",\n      //\t})\n      //}\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  submitCriteria() {\n    let state = this.state.selectedState;\n    let control = this.state.selectedControl;\n    let region = this.state.selectedRegion;\n    let level = this.state.selectedLevel;\n    let size = this.state.selectedSize;\n    let url = new URL('http://localhost:8081/criteriasearch/');\n    let queryParams = {\n      state: state,\n      control: control,\n      region: region,\n      level: level,\n      size: size\n    }; //If there are more than one query parameters, this is useful.\n\n    Object.keys(queryParams).forEach(key => url.searchParams.append(key, queryParams[key]));\n    fetch(url, {\n      method: 'GET'\n    }).then(res => {\n      return res.json();\n    }, err => {\n      return console.log(err);\n    }).then(criteriaList => {\n      let criteriaSearchDivs = criteriaList.map((criteria, i) => /*#__PURE__*/React.createElement(CriteriaSearchRow, {\n        criteria: criteria,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 5\n        }\n      }));\n      this.setState({\n        schools: criteriaSearchDivs\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"CriteriaSearch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container criteriasearch-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 12\n      }\n    }, \"Criteria Search (NOT FINISHED; Limited to 100 Results)\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"years-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      name: \"selectedState\",\n      value: this.state.selectedState,\n      onChange: this.handleChange,\n      className: \"dropdown\",\n      id: \"statesDropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    }, \" -- state -- \"), this.state.states), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"selectedRegion\",\n      value: this.state.selectedRegion,\n      onChange: this.handleChange,\n      className: \"dropdown\",\n      id: \"regionDropdown\",\n      style: {\n        width: '100px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, \" -- region -- \"), this.state.regions), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"selectedControl\",\n      value: this.state.selectedControl,\n      onChange: this.handleChange,\n      className: \"dropdown\",\n      id: \"controlDropdown\",\n      style: {\n        width: '100px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }\n    }, \" -- control -- \"), this.state.controls), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"selectedLevel\",\n      value: this.state.selectedLevel,\n      onChange: this.handleChange,\n      className: \"dropdown\",\n      id: \"levelDropdown\",\n      style: {\n        width: '100px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, \" -- level -- \"), this.state.levels), /*#__PURE__*/React.createElement(\"select\", {\n      name: \"selectedSize\",\n      value: this.state.selectedSize,\n      onChange: this.handleChange,\n      className: \"dropdown\",\n      id: \"sizeDropdown\",\n      style: {\n        width: '100px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, \" -- size -- \"), this.state.sizes), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-btn\",\n      id: \"criteriaSubmitBtn\",\n      onClick: this.submitCriteria,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 16\n      }\n    }, \"Submit\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"schools-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"school\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 40\n      }\n    }, \"Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 40\n      }\n    }, \"City\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 40\n      }\n    }, \"Size\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"schools-container\",\n      id: \"results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 14\n      }\n    }, this.state.schools)))));\n  }\n\n}","map":{"version":3,"sources":["/home/student/Documents/team550_project/CollegeSearchPortal/app/client/src/components/CriteriaSearch.js"],"names":["React","PageNavbar","CriteriaSearchRow","CriteriaSearch","Component","constructor","props","state","selectedState","selectedControl","selectedRegion","selectedLevel","selectedSize","states","controls","regions","levels","sizes","genres","submitCriteria","bind","handleChange","componentDidMount","fetch","method","then","res","json","stateListObj","stateList","map","stateObj","i","setState","controlListObj","controlList","controlObj","control","regionListObj","regionList","regionObj","region","levelListObj","levelList","levelObj","level","sizeListObj","sizeList","sizeObj","size","e","target","name","value","url","URL","queryParams","Object","keys","forEach","key","searchParams","append","err","console","log","criteriaList","criteriaSearchDivs","criteria","schools","render","width"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PageNavbar from './PageNavbar';\nimport CriteriaSearchRow from './CriteriaSearchRow';\nimport '../style/CriteriaSearch.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport default class CriteriaSearch extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tselectedState: \"\",\n\t\t\tselectedControl: \"\",\n\t\t\tselectedRegion: \"\",\n\t\t\tselectedLevel: \"\",\n\t\t\tselectedSize: \"\",\n\t\t\tstates: [],\n\t\t\tcontrols: [],\n\t\t\tregions: [],\n\t\t\tlevels: [],\n\t\t\tsizes: [],\n\t\t\tgenres: []\n\t\t};\n\n\t\tthis.submitCriteria = this.submitCriteria.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch('http://localhost:8081/states', {\n\t\t\tmethod: 'GET'\n\t\t}).then(res => {\n\t\t\treturn res.json();\n\t\t}).then(stateListObj => {\n\n\t\t\tlet stateList = stateListObj.map((stateObj, i) =>\n\t\t\t\t<option key={i} value={stateObj.state}>\n\t\t\t\t{stateObj.state}\n\t\t\t\t</option>\n\t\t\t);\n\n\t\t\tthis.setState({\n\t\t\t\tstates: stateList,\n\t\t\t\tselectedState: \"%\",\n\t\t\t});\n\n\t\t\t//if(stateList.length > 0) {\n\t\t\t//\tthis.setState({\n\t\t\t//\t\t//selectedState: stateListObj[0].state,\n\t\t\t//\t\tselectedState: \"%\",\n\t\t\t//\t})\n\t\t\t//}\n\t\t});\n\n\t\tfetch('http://localhost:8081/controls', {\n\t\t\tmethod: 'GET'\n\t\t}).then(res => {\n\t\t\treturn res.json();\n\t\t}).then(controlListObj => {\n\n\t\t\tlet controlList = controlListObj.map((controlObj, i) =>\n\t\t\t\t<option key={i} value={controlObj.control}>\n\t\t\t\t{controlObj.control}\n\t\t\t\t</option>\n\t\t\t);\n\n\t\t\tthis.setState({\n\t\t\t\tcontrols: controlList,\n\t\t\t\tselectedControl: \"%\",\n\t\t\t});\n\n\t\t\t//if(controlList.length > 0) {\n\t\t\t//\tthis.setState({\n\t\t\t//\t\t//selectedControl: controlListObj[0].control,\n\t\t\t//\t\tselectedControl: \"%\",\n\t\t\t//\t})\n\t\t\t//}\n\t\t});\n\n\t\tfetch('http://localhost:8081/regions', {\n\t\t\tmethod: 'GET'\n\t\t}).then(res => {\n\t\t\treturn res.json();\n\t\t}).then(regionListObj => {\n\n\t\t\tlet regionList = regionListObj.map((regionObj, i) =>\n\t\t\t\t<option key={i} value={regionObj.region}>\n\t\t\t\t{regionObj.region}\n\t\t\t\t</option>\n\t\t\t);\n\n\t\t\tthis.setState({\n\t\t\t\tregions: regionList,\n\t\t\t\tselectedRegion: \"%\",\n\t\t\t});\n\n\t\t\t//if(regionList.length > 0) {\n\t\t\t//\tthis.setState({\n\t\t\t//\t\t//selectedRegion: regionListObj[0].region,\n\t\t\t//\t\tselectedRegion: \"%\",\n\t\t\t//\t})\n\t\t\t//}\n\t\t});\n\n\t\tfetch('http://localhost:8081/levels', {\n\t\t\tmethod: 'GET'\n\t\t}).then(res => {\n\t\t\treturn res.json();\n\t\t}).then(levelListObj => {\n\n\t\t\tlet levelList = levelListObj.map((levelObj, i) =>\n\t\t\t\t<option key={i} value={levelObj.level}>\n\t\t\t\t{levelObj.level}\n\t\t\t\t</option>\n\t\t\t);\n\n\t\t\tthis.setState({\n\t\t\t\tlevels: levelList,\n\t\t\t\tselectedLevel: \"%\",\n\t\t\t});\n\n\t\t\t//if(levelList.length > 0) {\n\t\t\t//\tthis.setState({\n\t\t\t//\t\t//selectedLevel: levelListObj[0].level,\n\t\t\t//\t\tselectedLevel: \"%\",\n\t\t\t//\t})\n\t\t\t//}\n\t\t});\n\n\t\tfetch('http://localhost:8081/sizes', {\n\t\t\tmethod: 'GET'\n\t\t}).then(res => {\n\t\t\treturn res.json();\n\t\t}).then(sizeListObj => {\n\n\t\t\tlet sizeList = sizeListObj.map((sizeObj, i) =>\n\t\t\t\t<option key={i} value={sizeObj.size}>\n\t\t\t\t{sizeObj.size}\n\t\t\t\t</option>\n\t\t\t);\n\n\t\t\tthis.setState({\n\t\t\t\tsizes: sizeList,\n\t\t\t\tselectedSize: \"%\",\n\t\t\t});\n\n\t\t\t//if(sizeList.length > 0) {\n\t\t\t//\tthis.setState({\n\t\t\t//\t\t//selectedSize: sizeListObj[0].size,\n\t\t\t//\t\tselectedSize: \"%\",\n\t\t\t//\t})\n\t\t\t//}\n\t\t})\n\n\t}\n\n\thandleChange(e) {\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t});\n\t}\n\n\tsubmitCriteria() {\n\t\tlet state = this.state.selectedState;\n\t\tlet control = this.state.selectedControl;\n\t\tlet region = this.state.selectedRegion;\n\t\tlet level = this.state.selectedLevel;\n\t\tlet size = this.state.selectedSize;\n\t\tlet url = new URL('http://localhost:8081/criteriasearch/');\n\t\tlet queryParams = {state: state, control: control, region: region, level: level, size: size};\n\t\t//If there are more than one query parameters, this is useful.\n\t\tObject.keys(queryParams).forEach(key => url.searchParams.append(key, queryParams[key]));\n\t\tfetch(url, {\n\t\t\tmethod: 'GET'\n\t\t}).then(res => {\n\t\t\treturn res.json();\n\t\t}, err => {\n\t\t\treturn console.log(err);\n\t\t}).then(criteriaList => {\n\t\t\tlet criteriaSearchDivs = criteriaList.map((criteria, i) => \n\t\t\t\t<CriteriaSearchRow criteria={criteria} />\n\t\t\t); \n\n\t\t\tthis.setState({\n\t\t\t\tschools: criteriaSearchDivs\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className=\"CriteriaSearch\">\n\n\n\t\t\t\t<div className=\"container criteriasearch-container\">\n\t\t\t      <div className=\"jumbotron\">\n\t\t\t        <div className=\"h5\">Criteria Search (NOT FINISHED; Limited to 100 Results)</div>\n\n\t\t\t        <div className=\"years-container\">\n\t\t\t          <div className=\"dropdown-container\">\n\t\t\t            <select name=\"selectedState\" value={this.state.selectedState} onChange={this.handleChange} className=\"dropdown\" id=\"statesDropdown\">\n\t\t\t            \t<option value> -- state -- </option>\n\t\t\t            \t{this.state.states}\n\t\t\t            </select>\n\t\t\t            <select name=\"selectedRegion\" value={this.state.selectedRegion} onChange={this.handleChange} className=\"dropdown\" id=\"regionDropdown\" style={{width: '100px'}}>\n\t\t\t            \t<option value=\"%\"> -- region -- </option>\n\t\t\t            \t{this.state.regions}\n\t\t\t            </select>\n\t\t\t            <select name=\"selectedControl\" value={this.state.selectedControl} onChange={this.handleChange} className=\"dropdown\" id=\"controlDropdown\" style={{width: '100px'}}>\n\t\t\t            \t<option value=\"%\"> -- control -- </option>\n\t\t\t            \t{this.state.controls}\n\t\t\t            </select>\n\t\t\t            <select name=\"selectedLevel\" value={this.state.selectedLevel} onChange={this.handleChange} className=\"dropdown\" id=\"levelDropdown\" style={{width: '100px'}}>\n\t\t\t            \t<option value=\"%\"> -- level -- </option>\n\t\t\t            \t{this.state.levels}\n\t\t\t            </select>\n\t\t\t            <select name=\"selectedSize\" value={this.state.selectedSize} onChange={this.handleChange} className=\"dropdown\" id=\"sizeDropdown\" style={{width: '100px'}}>\n\t\t\t            \t<option value=\"%\"> -- size -- </option>\n\t\t\t            \t{this.state.sizes}\n\t\t\t            </select>\n\t\t\t            <button className=\"submit-btn\" id=\"criteriaSubmitBtn\" onClick={this.submitCriteria}>Submit</button>\n\t\t\t          </div>\n\t\t\t        </div>\n\t\t\t      </div>\n\t\t\t      <div className=\"jumbotron\">\n\t\t\t        <div className=\"schools-container\">\n\t\t\t          <div className=\"school\">\n\t\t\t            <div className=\"header\"><strong>Name</strong></div>\n\t\t\t            <div className=\"header\"><strong>City</strong></div>\n\t\t\t            <div className=\"header\"><strong>Size</strong></div>\n\t\t\t          </div>\n\t\t\t          <div className=\"schools-container\" id=\"results\">\n\t\t\t            {this.state.schools}\n\t\t\t          </div>\n\t\t\t        </div>\n\t\t\t      </div>\n\t\t\t    </div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}